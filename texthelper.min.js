(function(e,t){var n=/\s+/g,r=/^\s+/,i=/\s+$/,s=/(^\s+|\s+$)/g,o=/[\t\n\r]/g,u={version:"1.0",truncate:function(e,t,n){var r=0,i="",s=this.trimBoth(e),n=this.trimBoth(n)||"...";if(typeof t!="number")return e;t=parseInt(t);if(s.length>t){for(;r<=t;r++){if(r===s.length)break;r!=t?i+=s.charAt(r):(i=this.trimBoth(i),i+=n)}return this.trimBoth(i)}},excerpt:function(e,t,n){var r=0,e=this.trimBoth(e),i="",n=n||10;return keyword=t,start=0,stop=0,r=e.indexOf(keyword),start=r-n>=0?r-n:0,stop=r+keyword.length+n<e.length?r+keyword.length+n:e.length,i=e.substring(start,stop),i},highlight:function(e,t,n){var r=new RegExp(t,"g"),i=0,s="",o="",n=this.trimBoth(n)||"",e=this.trimBoth(e),t=this.trimBoth(t);return n.length>0?(s="<span class='"+n+"'>",o="</span>"):(s="<mark>",o="</mark>"),e=e.replace(r,s+t+o),e},wordWrap:function(e,t){var e=e,n=t,r=e.length,i=e,s=0;if(t>0){for(;n<r;n++)e.charAt(n)==" "&&(s=i.length-r,test=i.split(""),test.splice(n+s,0,"<br>"),i=test.join(""),n+=t);return i}return i},htmlEscape:function(e){var e=this.trimBoth(e);return e=e.replace(/(<|>|&|"|')/g,function(e){switch(e){case"<":return e="&lt;";case">":return e="&gt;";case"&":return e="&amp;";case'"':return e="&quot;";case"'":return e="&apos;"}})},htmlGenerate:function(e,t,n){var r=["img","iframe"],i="<"+e;n=n?n:"";for(key in t)i+=" "+key+"='"+t[key]+"'";return r.indexOf(e)>=0?i+=" />":i+=">"+n+"</"+e+">",i},trimBoth:function(e){return e!=t?e.toString().replace(s,""):!1}};e.texthelper=e._text=u})(window)